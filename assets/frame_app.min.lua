local a=require('data.min')local b=require('battery.min')local c=require('plain_text.min')TEXT_FLAG=0x0b;a.parsers[TEXT_FLAG]=c.parse_plain_text;function print_text()local d=0;for e in a.app_data[TEXT_FLAG].string:gmatch("([^\n]*)\n?")do if e~=""then frame.display.text(e,1,d*60+1)d=d+1 end end end;function app_loop()frame.display.text(" ",1,1)frame.display.show()local f=0;while true do rc,err=pcall(function()local g=a.process_raw_items()if g>0 then if a.app_data[TEXT_FLAG]~=nil and a.app_data[TEXT_FLAG].string~=nil then print_text()end;frame.display.show()end;frame.sleep(0.04)end)if rc==false then print(err)frame.display.text(" ",1,1)frame.display.show()frame.sleep(0.04)break end;f=b.send_batt_if_elapsed(f,120)frame.sleep(0.1)end end;app_loop()